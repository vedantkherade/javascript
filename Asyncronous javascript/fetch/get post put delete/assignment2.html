<!DOCTYPE html>
<html>
  <body>
    <h2>Create a New Post</h2>

    <form id="postForm">
      <input type="text" id="title" placeholder="Enter title"><br><br>
      <textarea id="body" placeholder="Enter body"></textarea><br><br>
      <button type="submit">Submit</button>
    </form>

    <p id="result"></p>

    <script>
      const form = document.getElementById("postForm");
      const result = document.getElementById("result");

      form.addEventListener("submit", function (e) {
        e.preventDefault(); // stop form refresh

        const title = document.getElementById("title").value;
        const body = document.getElementById("body").value;

        result.textContent = "Sending...";

        fetch("https://jsonplaceholder.typicode.com/posts", {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify({
            title: title,
            body: body,
            userId: 1
          })
        })
          .then(res => {
            if (!res.ok) {
              throw new Error("Server error: " + res.status);
            }
            return res.json();
          })
          .then(data => {
            result.textContent = "Post created with id: " + data.id;
          })
          .catch(err => {
            if (err.message.startsWith("Server error")) {
              result.textContent = err.message;
            } else {
              result.textContent = "Network error";
            }
          });
      });
    </script>
  </body>
</html>
